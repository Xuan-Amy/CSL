<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>é¢˜åº“ç®¡ç†</title>
</head>
<body>
    <h2>ğŸ“˜ é¢˜åº“ç®¡ç†ç³»ç»Ÿ</h2>

    <h3>â• æ–°å¢é¢˜ç›®</h3>
    <form method="POST" action="/admin/add_question" enctype="multipart/form-data">
        <label>å…³å¡ï¼š</label>
        <input name="level" type="number" required><br>
        <label>é¢˜å·ï¼š</label>
        <input name="qid" type="number" required><br>
        <label>æç¤ºè¯­ï¼š</label>
        <input name="prompt" style="width:400px;" required><br>
        <label>è¯åºåˆ—ï¼ˆç”¨é€—å·éš”å¼€ï¼‰ï¼š</label>
        <input name="words" placeholder="ä¾‹å¦‚ï¼šè½¦,æˆ¿å­"><br>
        <label>æ–¹å‘åºåˆ—ï¼ˆä¸ä¸Šé¢è¯å¯¹åº”ï¼Œå…è®¸ä¸ºç©ºï¼Œç”¨é€—å·éš”å¼€ï¼‰ï¼š</label>
        <input name="motions" placeholder="ä¾‹å¦‚ï¼šright,up"><br>
        <label>ä¸Šä¼ æ¼”ç¤ºæ–‡ä»¶ï¼ˆå›¾ç‰‡æˆ–è§†é¢‘ï¼‰ï¼š</label>
        <input type="file" name="media"><br>
        <button type="submit">æ·»åŠ </button>
    </form>

    <hr>
    <h3>ğŸ“š å½“å‰é¢˜åº“</h3>
    {% for level, qs in questions.items() %}
        <h4>å…³å¡ {{ level }}</h4>
        <ul>
        {% for qid, q in qs.items() %}
            <li>
                <b>{{ level }}-{{ qid }}</b>ï¼š{{ q.prompt }}<br>
                â¤ ç›®æ ‡åºåˆ—ï¼š
                {% for item in q.target_sequence %}
                    {{ item.word }}{% if item.motion %}({{ item.motion }}){% endif %}
                    {% if not loop.last %} â†’ {% endif %}
                {% endfor %}

                {% if q.media %}
                    <br>ğŸ¬ æ¼”ç¤ºæ–‡ä»¶ï¼š
                    {% if q.media.endswith(".mp4") %}
                        <video src="{{ url_for('static', filename='media/' + q.media) }}" width="240" controls></video>
                    {% elif q.media.endswith(".jpg") or q.media.endswith(".png") %}
                        <img src="{{ url_for('static', filename='media/' + q.media) }}" width="240">
                    {% endif %}
                {% endif %}
                <br>
                [<a href="/admin/delete_question/{{ level }}/{{ qid }}" onclick="return confirm('ç¡®è®¤åˆ é™¤é¢˜ç›® {{ level }}-{{ qid }}ï¼Ÿ');">åˆ é™¤</a>]
                [<a href="/admin/edit_question/{{ level }}/{{ qid }}">ç¼–è¾‘</a>]

            </li>
        {% endfor %}
        </ul>
    {% endfor %}

    <p><a href="/admin">è¿”å›ç®¡ç†å‘˜é¦–é¡µ</a></p>
</body>
</html>
